@model List<MHDecora.Site.Domain.Entities.Banner>

@* <div id="carouselExampleIndicators" class="carousel slide mt-4" data-ride="carousel">
    <ol class="carousel-indicators">
        <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
        <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
        <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
    </ol>
    <div class="carousel-inner">
        @foreach(var item in Model)
        {
            <div class="carousel-item">
                <img src="@item.CaminhoImagem" class="d-block w-100" width="1200" height="400" alt="...">
            </div>
        }

    </div>
    <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
        <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
        <span class="sr-only">Next</span>
    </a>
</div> *@


<section class="slider-wrapper" id="home">
    <div class="slider-box active show">
        <div class="slider-image">
            @if (!string.IsNullOrEmpty(Model[0].Descricao))
            {
                <img href="@Model[0].Descricao" src="@Model[0].CaminhoImagem" alt="" />
            }
            else
            {
                <img class="lazy" href="@Model[0].Descricao" src="@Model[0].CaminhoImagem" alt="" />
            }            
        </div>
       
    </div>
    <div class="slider-box">
        <div class="slider-image">
            @if (!string.IsNullOrEmpty(Model[1].Descricao))
            {
                <img href="@Model[1].Descricao" src="@Model[1].CaminhoImagem" alt="" />
            }
            else
            {
                <img class="lazy" href="@Model[1].Descricao" src="@Model[1].CaminhoImagem" alt="" />
            }
        </div>
       
    </div>
    <div class="slider-box">
        <div class="slider-image">
            @if (!string.IsNullOrEmpty(Model[2].Descricao))
            {
                <img href="@Model[2].Descricao" src="@Model[2].CaminhoImagem" alt="" />
            }
            else
            {
                <img class="lazy" href="@Model[2].Descricao" src="@Model[2].CaminhoImagem" alt="" />
            }
        </div>
       
    </div>
    <div class="slider-nava" id="slider-home">
        <a class="slider-nav-link" data-index="0"></a>
        <a class="slider-nav-link" data-index="1"></a>
        <a class="slider-nav-link" data-index="2"></a>
    </div>
</section>

@section script {
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            var lazyImages = document.querySelectorAll('img.lazy');
            var observer = new IntersectionObserver(function (entries) {
                entries.forEach(function (entry) {
                    if (entry.isIntersecting) {
                        var img = entry.target;
                        img.src = img.dataset.src;
                        img.classList.remove('lazy');
                        observer.unobserve(img);
                    }
                });
            });

            lazyImages.forEach(function (img) {
                observer.observe(img);
            });
        });
    </script>
}
